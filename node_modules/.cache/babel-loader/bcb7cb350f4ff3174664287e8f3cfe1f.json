{"ast":null,"code":"import _slicedToArray from\"C:/Users/Babken/Documents/projects/cart/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React from'react';import AppContext from'../context';import BagProductBlock from'./BagProductBlock';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Header(){var _React$useContext=React.useContext(AppContext),onOpenMenu=_React$useContext.onOpenMenu,menuOpened=_React$useContext.menuOpened,setMenuOpened=_React$useContext.setMenuOpened,bagItems=_React$useContext.bagItems,setBagItems=_React$useContext.setBagItems;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),bagOpened=_React$useState2[0],setBagOpened=_React$useState2[1];var onOpenBag=function onOpenBag(){setBagOpened(!bagOpened);setMenuOpened(!menuOpened);};var onCloseBag=function onCloseBag(){setBagOpened(!bagOpened);setMenuOpened(!menuOpened);};var onRemoveItem=function onRemoveItem(obj){axios.delete(\"https://6123b066124d8800175683c3.mockapi.io/bag/\".concat(obj.code));setBagItems(function(prev){return prev.filter(function(product){return product.code!==obj.code;});});};var totalPrice=bagItems.reduce(function(sum,obj){return obj.price+sum;},0);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"header\",{className:menuOpened?'contentHeader contentHeaderOpened':'contentHeader',children:[/*#__PURE__*/_jsxs(\"div\",{className:bagOpened?\"headerTop a-c border-bottomUnset\":\"headerTop a-c\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"headerLeft\",children:menuOpened?/*#__PURE__*/_jsx(\"img\",{className:bagOpened?'hidden-op':null,onClick:onOpenMenu,width:\"26\",src:\"./images/close.svg\",alt:\"menu\"}):/*#__PURE__*/_jsx(\"img\",{onClick:onOpenMenu,width:\"24\",src:\"./images/menu.svg\",alt:\"menu\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"headerCenter\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{width:\"75\",src:\"./images/logo.svg\",alt:\"logo\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"headerRight\",children:bagOpened?/*#__PURE__*/_jsx(\"img\",{onClick:onCloseBag,width:\"26\",src:\"./images/close.svg\",alt:\"menu\"}):/*#__PURE__*/_jsx(\"div\",{onClick:onOpenBag,className:\"bag a-c j-c\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bagQuantity\",children:bagItems.length})})})]}),/*#__PURE__*/_jsx(\"div\",{className:bagOpened?\"headerBottom\":\"headerBottom hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bagBlock\",children:bagItems.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"productsBlock\",children:bagItems.map(function(item,index){return/*#__PURE__*/_jsx(BagProductBlock,{imgUrl:item.imgUrl,title:item.title,color:item.color,size:item.size,price:item.price,code:item.code,onRemoveItem:onRemoveItem},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"subTotalBlock a-c\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20AC\",totalPrice]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"checkoutBlock\",children:/*#__PURE__*/_jsx(\"div\",{className:\"checkoutBtn j-c a-c\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Checkout\"})})})]}):/*#__PURE__*/_jsx(\"p\",{className:\"emptyTxt\",children:\"Your bag is currently empty\"})})})]})});}export default Header;","map":{"version":3,"sources":["C:/Users/Babken/Documents/projects/cart/src/Components/Header.jsx"],"names":["axios","React","AppContext","BagProductBlock","Header","useContext","onOpenMenu","menuOpened","setMenuOpened","bagItems","setBagItems","useState","bagOpened","setBagOpened","onOpenBag","onCloseBag","onRemoveItem","obj","delete","code","prev","filter","product","totalPrice","reduce","sum","price","length","map","item","index","imgUrl","title","color","size"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport AppContext from '../context';\r\nimport BagProductBlock from './BagProductBlock';\r\n\r\nfunction Header() {\r\n\r\n  const {onOpenMenu, menuOpened, setMenuOpened, bagItems, setBagItems} = React.useContext(AppContext);\r\n  const [bagOpened, setBagOpened] = React.useState(false);\r\n\r\n  const onOpenBag = () => {\r\n    setBagOpened(!bagOpened);\r\n    setMenuOpened(!menuOpened);\r\n  }\r\n  const onCloseBag = () => {\r\n    setBagOpened(!bagOpened);\r\n    setMenuOpened(!menuOpened);\r\n  }\r\n\r\n  const onRemoveItem = (obj) => {\r\n    axios.delete(`https://6123b066124d8800175683c3.mockapi.io/bag/${obj.code}`);\r\n    setBagItems(prev => prev.filter(product => product.code !== obj.code))\r\n  }\r\n\r\n  const totalPrice = bagItems.reduce((sum, obj) => obj.price + sum, 0);\r\n\r\n  return(\r\n    <>\r\n    <header className={menuOpened ? 'contentHeader contentHeaderOpened' : 'contentHeader'}>\r\n    <div className={bagOpened ? \"headerTop a-c border-bottomUnset\" : \"headerTop a-c\"}>\r\n    <div className=\"headerLeft\">\r\n    {menuOpened ? <img className={bagOpened ? 'hidden-op' : null}\r\n     onClick={onOpenMenu} width=\"26\" src=\"./images/close.svg\" alt=\"menu\" /> :\r\n    <img onClick={onOpenMenu} width=\"24\" src=\"./images/menu.svg\" alt=\"menu\" />\r\n    }\r\n    </div>\r\n    <div className=\"headerCenter\">\r\n    <a href=\"/\">\r\n    <img width=\"75\" src=\"./images/logo.svg\" alt=\"logo\" />\r\n    </a>\r\n    </div>\r\n    <div className=\"headerRight\">\r\n      {bagOpened ? <img onClick={onCloseBag} width=\"26\" src=\"./images/close.svg\" alt=\"menu\" />\r\n      : <div onClick={onOpenBag} className=\"bag a-c j-c\">\r\n        <span className=\"bagQuantity\">{bagItems.length}</span>\r\n      </div>}\r\n    </div>\r\n    </div>\r\n    <div className={bagOpened ? \"headerBottom\" : \"headerBottom hidden\"}>\r\n    <div className=\"bagBlock\">\r\n      {bagItems.length > 0 ? \r\n       <>\r\n       <div className=\"productsBlock\">\r\n       {bagItems.map((item, index) => (\r\n         <BagProductBlock\r\n         key={index}\r\n         imgUrl={item.imgUrl}\r\n         title={item.title}\r\n         color={item.color}\r\n         size={item.size}\r\n         price={item.price}\r\n         code={item.code}\r\n         onRemoveItem={onRemoveItem}\r\n         />\r\n       ))}\r\n       </div>\r\n       <div className=\"subTotalBlock a-c\">\r\n         <p>Subtotal:</p>\r\n         <p>â‚¬{totalPrice}</p>\r\n       </div>\r\n       <div className=\"checkoutBlock\">\r\n         <div className=\"checkoutBtn j-c a-c\">\r\n           <p>Checkout</p>\r\n         </div>\r\n       </div>\r\n       </> :\r\n       <p className=\"emptyTxt\">Your bag is currently empty</p>\r\n      }\r\n    </div>\r\n    </div>\r\n  </header>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Header;"]},"metadata":{},"sourceType":"module"}